@startuml
actor Utente

participant "Frontend\n(Web App)" as FE
participant "Backend\nAPI Server" as BE
database "Database" as DB

Utente -> FE: Inserisce nuovo peso
FE -> BE: POST /metrics (peso, data, token)
BE -> DB: INSERT INTO user_metrics
DB --> BE: Conferma salvataggio
BE --> FE: Risposta OK (201 Created)

== Aggiornamento grafico ==

FE -> BE: GET /metrics (user_id)
BE -> DB: SELECT * FROM user_metrics\nWHERE user_id = X
DB --> BE: Restituisce lista pesi
BE --> FE: JSON con dati aggiornati
FE -> FE: Aggiorna grafico peso nel tempo

@enduml
